engine biome(2.0)
language js

// Match function return types with explicit null/undefined unions
// This is a simplified pattern - may need refinement based on actual detection capabilities
`function $name($params): $returnType` as $func where {
  $returnType <: contains `| null` or $returnType <: contains `| undefined`,
  register_diagnostic(span=$func, message="Functions should return Option<T> or Either<E, T> instead of | null or | undefined. If truly exceptional, use @ts-expect-error and update this error message to explicitly state the type of situation that makes breaking this rule acceptable.", severity="error")
}
